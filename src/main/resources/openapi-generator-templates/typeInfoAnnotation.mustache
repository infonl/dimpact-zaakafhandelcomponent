{{! INFO.nl temporary workaround for the issue where the OpenAPI Generator Gradle plugin }}
{{! generates '@JsonbTypeInfo(key = "type")' annotations in the generated model classes both for }}
{{! parent and child polymorphic classes resulting in errors such as: }}
{{! "Caused by: jakarta.json.bind.JsonbException: One polymorphic chain cannot have two conflicting property names. }}
{{! Polymorphic type defined on the type nl.info.client.bag.model.generated.Standplaats }}
{{! and nl.info.client.bag.model.generated.AdresseerbaarObject have conflicting property name" }}
{{! This was most likely introduced by: https://github.com/OpenAPITools/openapi-generator/pull/20164 }}

{{! This template is based on a copy of the Java Mustache model template of the main branch of https://github.com/OpenAPITools/openapi-generator }}
{{! This workaround can be removed once we have migrated to a version of the OpenAPI Generator Gradle plugin that has solved this issue. }}

{{#jackson}}

@JsonIgnoreProperties(
  value = "{{{discriminator.propertyBaseName}}}", // ignore manually set {{{discriminator.propertyBaseName}}}, it will be automatically generated by Jackson during serialization
  allowSetters = true // allows the {{{discriminator.propertyBaseName}}} to be set during deserialization
)
@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = "{{{discriminator.propertyBaseName}}}", visible = true)
{{#discriminator.mappedModels}}
{{#-first}}
@JsonSubTypes({
{{/-first}}
  @JsonSubTypes.Type(value = {{modelName}}.class, name = "{{^vendorExtensions.x-discriminator-value}}{{mappingName}}{{/vendorExtensions.x-discriminator-value}}{{#vendorExtensions.x-discriminator-value}}{{{vendorExtensions.x-discriminator-value}}}{{/vendorExtensions.x-discriminator-value}}"),
{{#-last}}
})
{{/-last}}
{{/discriminator.mappedModels}}
{{/jackson}}
{{#jsonbPolymorphism}}
{{! Workaround INFO.nl: the original code has been removed for reasons see above }}
{{/jsonbPolymorphism}}
