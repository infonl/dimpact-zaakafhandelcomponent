<!--
  ~ SPDX-FileCopyrightText: 2021 - 2022 Atos
  ~ SPDX-License-Identifier: EUPL-1.2+
  -->

<mat-form-field appearance="fill" class="full-width" subscriptSizing="fixed">
  <mat-label>{{ data.label | translate }}</mat-label>
  <input
    [formControl]="data.formControl"
    [id]="data.id + '_datefield'"
    [min]="data.minDate"
    [max]="data.maxDate"
    [matDatepicker]="picker"
    [required]="data.required"
    matInput
    type="date"
  />
  <span *ngIf="data.showDays" class="daysSuffix" matSuffix>{{
    data.formControl.value | dagen
  }}</span>
  <button
    *ngIf="!data.formControl?.disabled && data.formControl?.value"
    matSuffix
    mat-icon-button
    type="button"
    (click)="data.formControl?.reset(null)"
  >
    <mat-icon>clear</mat-icon>
  </button>
  <mat-datepicker-toggle
    *ngIf="!data.formControl?.value"
    matSuffix
    [for]="picker"
  ></mat-datepicker-toggle>
  <mat-datepicker #picker></mat-datepicker>
  <mat-hint *ngIf="data.hint">{{ data.hint.label | translate }}</mat-hint>
  <mat-error *ngIf="data.formControl.invalid">{{
    getErrorMessage()
  }}</mat-error>
</mat-form-field>
