<!--
  ~ SPDX-FileCopyrightText: 2021 Atos
  ~ SPDX-License-Identifier: EUPL-1.2+
  -->

<mat-form-field appearance="fill" class="full-width">
  <mat-label>{{ data.label | translate }}</mat-label>
  <input
    [id]="data.id"
    #mapAutoComplete
    matInput
    [formControl]="data.formControl"
    [required]="data.required"
  />
  <mat-hint *ngIf="data.hint">{{
    data.hint.label | translate
  }}</mat-hint>
  <mat-error appEnhanceMatError *ngIf="data.formControl.invalid">{{
    getErrorMessage()
  }}</mat-error>
</mat-form-field>

<google-map
  width="100%"
  *ngIf="apiLoaded"
  [options]="options"
  [center]="mapCenter"
  (mapClick)="onPlaceMarker($event)"
>
  <map-marker [position]="currentLocation"></map-marker>
  <map-info-window></map-info-window>
</google-map>
