<!--
  ~ SPDX-FileCopyrightText: 2021 Atos, 2025 INFO.nl
  ~ SPDX-License-Identifier: EUPL-1.2+
  -->

<mat-toolbar role="heading" class="gap-16">
  <mat-icon>upload_file</mat-icon>
  <span class="flex-grow-1">{{ "actie.document.toevoegen" | translate }}</span>
  <button mat-icon-button (click)="sideNav.close()">
    <mat-icon>close</mat-icon>
  </button>
</mat-toolbar>
<mat-divider></mat-divider>

<div class="form">
  <!-- we use a for loop here to mount a completely new form here when there is a new iteration -->
  @for (iteration of formIterations$ | async; track $index) {
    @if (iteration === (activeIteration$ | async)) {
      <mfb-form
        *ngIf="fields$ | async"
        (formSubmit)="onFormSubmit($event)"
        [formFields]="fields$ | async"
        [config]="formConfig"
      ></mfb-form>
    }
  }
</div>
