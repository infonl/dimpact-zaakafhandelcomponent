<!--
  ~ SPDX-FileCopyrightText: 2025 INFO.nl
  ~ SPDX-License-Identifier: EUPL-1.2+
  -->

<mat-stepper orientation="horizontal" [linear]="true">
  <!--
  [selectedIndex]="1"
    Step below is skipped on load
  -->

  <mat-step completed="true">
    <ng-template matStepLabel>{{
      "gegevens.proces-definitie" | translate
    }}</ng-template>

    <p>
      zac-radio form="form" key="processDefinitionType" label="field.label"
      ptions=" value: 'CMMN', label: 'CMMN', value: 'BPMN', label: 'BPMN', ]"
    </p>
    <button
      mat-raised-button
      color="primary"
      (click)="switchProcessDefinition.emit('CMMN')"
      [disabled]="isSavedZaakafhandelparameters || isLoading"
    >
      Selecteer CMMN
    </button>
    <button
      mat-raised-button
      color="accent"
      (click)="switchProcessDefinition.emit('BPMN')"
      [disabled]="isSavedZaakafhandelparameters || isLoading"
    >
      Selecteer BPMN
    </button>

    <div class="flex-row items-center gap-10 ml-3 mt-3">
      <mat-icon color="warn" class="pr-3">warning</mat-icon>
      <small>{{ "msg.zaakafhandelparameters.waarschuwing" | translate }}</small>
    </div>

    <div class="button-group flex-row flex-wrap">
      <button mat-raised-button matStepperNext>
        {{ "actie.volgende" | translate }}
      </button>
      <button
        mat-raised-button
        color="primary"
        [disabled]="!isValid() || isLoading"
      >
        {{ "actie.opslaan" | translate }}
      </button>
    </div>
  </mat-step>

  <mat-step>
    <ng-template matStepLabel>{{
      "gegevens.algemeen" | translate
    }}</ng-template>

    <form [formGroup]="algemeenFormGroup">
      <fieldset>
        <section class="row">
          <zac-static-text
            class="col-12 col-md-6"
            label="zaaktypeOmschrijving"
            [value]="bpmnZaakafhandelParameters.zaaktype.omschrijving"
          />
          <zac-static-text
            class="col-12 col-md-6"
            label="doel"
            [value]="bpmnZaakafhandelParameters.zaaktype.doel"
          />
        </section>
        <section class="row">
          <zac-static-text
            class="col-12 col-md-6"
            label="identificatie"
            [value]="bpmnZaakafhandelParameters.zaaktype.identificatie"
          />
          <zac-static-text
            class="col-12 col-md-6"
            label="uuid"
            [value]="bpmnZaakafhandelParameters.zaaktype.uuid"
          />
        </section>
      </fieldset>
      <fieldset class="my-5">
        <section>
          <zac-select
            class="col-12 col-md-6"
            key="bpmnDefinition"
            optionDisplayValue="naam"
            [form]="algemeenFormGroup"
            [options]="bpmnDefinitions"
          >
          </zac-select>
        </section>
        <section class="row">
          <zac-select
            class="col-12 col-md-6"
            key="defaultGroep"
            label="groep"
            optionDisplayValue="naam"
            [form]="algemeenFormGroup"
            [options]="groepen"
          >
          </zac-select>
        </section>
        <section class="row">
          <zac-input
            class="col-12 col-md-6"
            key="productaanvraagtype"
            [form]="algemeenFormGroup"
          >
            <mat-hint>{{
              "msg.zaakafhandelparameters.productaanvraagtype" | translate
            }}</mat-hint>
          </zac-input>
        </section>
      </fieldset>

      <div class="flex-row items-center gap-10 ml-3 mt-3">
        <mat-icon color="warn" class="pr-3">warning</mat-icon>
        <small>{{
          "msg.zaakafhandelparameters.waarschuwing" | translate
        }}</small>
      </div>

      <div class="button-group flex-row flex-wrap">
        <!--
        <button
          mat-raised-button
          (click)="switchProcessDefinition.emit('SELECT-PROCESS-DEFINITION')"
          [disabled]="isSavedZaakafhandelparameters"
        >
          {{ "actie.procesdefinitie.terug" | translate }}
        </button>
        -->
        <button mat-raised-button matStepperPrevious>
          {{ "actie.terug" | translate }}
        </button>
        <button
          mat-raised-button
          color="primary"
          (click)="opslaan()"
          [disabled]="!algemeenFormGroup.valid || isLoading"
        >
          {{ "actie.opslaan" | translate }}
        </button>
      </div>
    </form>
  </mat-step>
</mat-stepper>
